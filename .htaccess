<Files ~ "^\.(htaccess|htpasswd)$">
deny from all
</Files>
ErrorDocument 404 /404.php
order deny,allow

# https://joomla.stackexchange.com/questions/21835/htacces-replace-all-underscores-with-hyphens
# Four underscores
RewriteEngine On
RewriteCond %{REQUEST_URI} (.*)_(.*)_(.*)_(.*)_(.*)$
RewriteRule ^(.*)_(.*)_(.*)_(.*)_(.*)$ /$1-$2-$3-$4-$5 [L,R=301]

# Three underscores
RewriteEngine On
RewriteCond %{REQUEST_URI} (.*)_(.*)_(.*)_(.*)$
RewriteRule ^(.*)_(.*)_(.*)_(.*)$ /$1-$2-$3-$4 [L,R=301]

# Two underscores
RewriteEngine On
RewriteCond %{REQUEST_URI} (.*)_(.*)_(.*)$
RewriteRule ^(.*)_(.*)_(.*)$ /$1-$2-$3 [L,R=301]

# One underscore
RewriteEngine On
RewriteCond %{REQUEST_URI} (.*)_(.*)$
RewriteRule ^(.*)_(.*)$ /$1-$2 [L,R=301]